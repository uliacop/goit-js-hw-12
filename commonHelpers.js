import{a as b,i,S as E}from"./assets/vendor-b2578120.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const v="43046447-8272f873c9098dbfa2cb53d4e",P="https://pixabay.com/api/";async function h(a,e,t){try{return(await b.get(P,{params:{key:v,q:a,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:t}})).data}catch(l){throw console.error("Error fetching images:",l),l}}function f(a){if(a.length===0)i.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"});else{const e=a.map(t=>`<li class="photos-block">
            <a class="photos-link" href="${t.largeImageURL}">
            <img class="photo" src="${t.webformatURL}" alt="${t.tags}"/>
            </a>
            <ul class="photo-data">
            <li class="photo-data-detail"><p><span class="info">Likes</span></br>${t.likes}</p></li>
            <li class="photo-data-detail"><p><span class="info">Views</span></br>${t.views}</p></li>
            <li class="photo-data-detail"><p><span class="info">Comments</span></br>${t.comments}</p></li>
            <li class="photo-data-detail"><p><span class="info">Downloads</span></br>${t.downloads}</p></li>
            </ul>
            </li>`).join("");s.galleryList.insertAdjacentHTML("beforeend",e),S.refresh()}}const s={searchForm:document.querySelector(".search-form"),inputElement:document.querySelector(".search-input"),loader:document.querySelector(".loader"),load:document.querySelector(".load"),galleryList:document.querySelector(".gallery")},S=new E(".gallery a",{captionsData:"alt",captionDelay:250});let c,d=1;const p=15,y=document.querySelector(".loader"),u=()=>{y.classList.remove("hidden")},g=()=>{y.classList.add("hidden")};g();s.searchForm.addEventListener("submit",w);async function w(a){if(a.preventDefault(),c=s.inputElement.value.trim(),d=1,s.galleryList.innerHTML="",c===""){i.error({title:"Error",message:"Please enter a search term.",position:"topRight"}),n();return}u();try{const e=await h(c,d,p),t=e.totalHits;if(e.hits.length===0){s.galleryList.innerHTML="",i.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),n();return}else f(e.hits),s.inputElement.value="",u();p*d>=t&&(n(),L())}catch(e){console.error("Error fetching images:",e),i.error({title:"Error",message:"Failed to fetch images. Please try again later.",position:"topRight"})}finally{g()}}s.load.style.display="none";s.searchForm.addEventListener("submit",async a=>{if(a.preventDefault(),c=s.inputElement.value.trim(),d=1,s.galleryList.innerHTML="",c===""){i.error({title:"Error",message:"Please enter a search term.",position:"topRight"}),n();return}u();try{const e=await h(c,d,p),t=e.totalHits;if(e.hits.length===0){s.galleryList.innerHTML="",i.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),n();return}else f(e.hits),s.inputElement.value="",u();p*d>=t&&(n(),L())}catch(e){console.error("Error fetching images:",e),i.error({title:"Error",message:"Failed to fetch images. Please try again later.",position:"topRight"})}finally{g()}});function L(){n(),i.error({title:"Error",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})}function n(){s.load.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
